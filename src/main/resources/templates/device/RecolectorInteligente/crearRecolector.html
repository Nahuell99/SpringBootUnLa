<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>Grupo-3-OO2-2023</title>
	<!-- Favicon-->
	<link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
	<!-- Bootstrap icons-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
	<!-- Core theme CSS (includes Bootstrap)-->
	<link href="/css/device.css" rel="stylesheet" />
	<style>
		html,
		body {
			height: 100%;
		}

		.wrapper {
			display: flex;
			flex-direction: column;
			min-height: 100vh;
		}

		.content {
			flex: 1;
		}

		.footer {
			background-color: #343a40;
			color: white;
			padding: 20px;
		}

		.navbar-btn {
			margin-right: 18px;
		}

		form input[type=checkbox] {
			height: 2rem;
			width: 2rem;
		}
	</style>
</head>

<body>
	<div class="wrapper">
		<!-- Responsive navbar-->
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container px-lg-5">
				<a class="navbar-brand" th:href="@{/}">Inicio</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link" th:href="@{/device/sensorAlumbradoInteligente}">Volver
								a opciones</a></li>
					</ul>
					<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
						<li class="nav-item"><a class="nav-link" th:href="@{/logout}">Logout</a></li>
					</ul>
				</div>
			</div>
		</nav> <!-- Header-->

		<!-- Page Content-->
		<section class="pt-4 content">
			<div class="container px-lg-5">
				<!-- Page Features-->
				<div class="row gx-lg-5">
					<h1>Formulario de Alta</h1>
					<form action="#" th:action="@{newRecolectorInteligente}" th:object="${recolectorInteligente}"
						method="post">
						<div class="row">
							<div class="col-md-6">
								<div>
									<label for="nombre" class="form-label">Nombre:</label>
									<input type="text" id="nombre" class="form-control" th:field="*{nombre}" />
								</div>
								<div>
									<label for="descripcion" class="form-label">Descripcion:</label>
									<input type="text" id="descripcion" class="form-control"
										th:field="*{descripcion}" />
								</div>
								<div>
									<label for="contenedorLleno" class="form-label">Contenedor Lleno:</label>
									<input type="checkbox" class="mt-3" id="contenedorLleno" th:field="*{contenedorLleno}" />
								</div>
								<div>
									<label for="limpiadorAutomaticoActivo" class="form-label">Limpiador Automático
										Activo:</label>
									<input type="checkbox" class="mt-3" id="limpiadorAutomaticoActivo"
										th:field="*{limpiadorAutomaticoActivo}" />
								</div>
								<div>
									<label for="usoIndebido" class="form-label">Uso Indebido:</label>
									<input type="checkbox" class="mt-3" id="usoIndebido" th:field="*{usoIndebido}" />
								</div>
							</div>
						</div>
						<input type="submit" id="btnSubmit" value="Guardar" />
					</form>

				</div>
			</div>
		</section>


		<div class="push"></div>
		<!-- Con esto empujo el footer hacia abajo -->

		<!-- Footer-->
		<footer class="py-5 bg-dark footer">
			<div class="container">
				<p class="m-0 text-center">Ignacio Mansilla | Gaston Ponce | Alan Gabriel</p>
			</div>
		</footer>
	</div>

	<!-- Bootstrap core JS-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="js/scripts.js"></script>

	<script>
		document.getElementById('btnSubmit').addEventListener('click', function (event) {
			var nombre = document.getElementById('nombre').value;
			var descripcion = document.getElementById('descripcion').value;
			var establecimiento = document.getElementById('establecimiento').value;
			var ubicacion = document.getElementById('ubicacion').value;
			var umbralLuz = document.getElementById('umbralLuz').value;

			if (nombre.length < 2 || descripcion.length < 2 || establecimiento.length < 2 || ubicacion.length < 2 || umbralLuz <= 0) {
				event.preventDefault(); // Evita el envío del formulario
				alert('Debes completar todos los campos con 2 caracteres mínimos. Además, "Umbral de luz" no puede ser cero');
			}
		});
	</script>